#include <stdio.h>

void vuln(char* input) {
	int number = 0;
	char buf[32];
	strcpy(buf, input);

	if (number == 1) {
		printf("Correct!\n");
		uid_t euid = geteuid();
		setresuid(euid, euid, euid);
		execve("/bin/sh", ["/bin/sh", NULL], NULL);
	}
	else {
		printf("Wrong number!\n");
		exit(0);
	}
}

void main(int argc, char **argv) {
	if (argc != 2) {
		printf("Usage: overflow1 [str]\n");
		return 1;
	}

	vuln(argv[1]);
}